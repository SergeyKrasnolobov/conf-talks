# Code first или Schema First?

-----

- Schema First – это когда вы пишите схему (обычно в SDL формате), а потом натягиваете на нее резолверы
  - Быстрый старт
  - Для маленьких и средних приложений
  - На длинной дистанции, могут быть проблемы с рефакторингом и внесением изменений
- Code first – это когда у вас есть модели и сервисы, и уже из них генерируется либо пишутся с нуля GraphQL-типы и схема
  - Больше трудозатрат на написание своего генератора, либо поиск готового решения
    - Пример: не надо руками писать все Input-типы, если они по структуре одинаковы с Output-типами (не тратим время на синхронизацию)
    - Пример: graphql-compose-mongoose на одной модели генерирует более 60 GraphQL-типов.
  - На длинной дистанции, вы можете схему менять логику генератора и ваша схема будет меняться вне зависимости от размера схемы и кол-ва типов
- Если у вас гексагональная (или луковая) архитектура, есть DTO, куча интерфейсов, портов и адаптеров, увлекаетесь рефлексией и декораторами, то однозначно надо брать Code first. Зачем писать GraphQL-схему ручками через Schema First, когда вам достаточно артефактов, чтобы ее сгенерировать.